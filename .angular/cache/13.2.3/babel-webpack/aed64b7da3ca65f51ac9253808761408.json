{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nconst _c0 = function (a0) {\n  return {\n    \"height\": a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"width\": a0\n  };\n};\n\nexport let SliderComponent = /*#__PURE__*/(() => {\n  class SliderComponent {\n    constructor(elementRef) {\n      this.elementRef = elementRef;\n      this.valueChange = new EventEmitter();\n      this.options = {\n        vertical: false,\n        autoSize: true\n      };\n      this.seekable = true;\n      this.width = 1;\n      this.isDragging = false;\n      this._value = 0;\n    }\n\n    set value(val) {\n      this._value = val;\n    }\n\n    get value() {\n      return this._value;\n    }\n\n    ngOnInit() {}\n\n    ngAfterViewInit() {}\n\n    onMouseDown(e) {\n      // e.preventDefault();\n      this.isDragging = true;\n    }\n\n    onClick(e) {\n      const position = this.getPosition(e);\n      this.value = position.percentage;\n      this.valueChange.next(position.position);\n    }\n\n    onMouseMove(e) {\n      if (!this.isDragging) {\n        return;\n      }\n\n      const position = this.getPosition(e);\n\n      if (position.percentage <= 100 && position.percentage >= 0) {\n        this.value = position.percentage;\n        this.valueChange.next(position.position);\n      }\n    }\n\n    onMouseUp(e) {\n      this.isDragging = false;\n    }\n\n    onStopDragging(event) {\n      if (!this.elementRef.nativeElement.contains(event.target)) {\n        this.isDragging = false;\n      }\n    }\n\n    getPosition(e) {\n      const rect = e.currentTarget.getBoundingClientRect();\n      const xCoordinate = e.type === \"touchmove\" ? e.touches[0].clientX - rect.left : e.pageX - rect.left;\n      const yCoordinate = e.type === \"touchmove\" ? e.touches[0].clientY - rect.top : e.pageY - rect.top;\n      const position = this.options.vertical ? yCoordinate / rect.height : xCoordinate / rect.width;\n      return {\n        position,\n        percentage: this.options.vertical ? 100 - position * 100 : position * 100\n      };\n    }\n\n  }\n\n  SliderComponent.ɵfac = function SliderComponent_Factory(t) {\n    return new (t || SliderComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n\n  SliderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SliderComponent,\n    selectors: [[\"app-slider\"]],\n    hostBindings: function SliderComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"touchstart\", function SliderComponent_touchstart_HostBindingHandler($event) {\n          return ctx.onStopDragging($event);\n        }, false, i0.ɵɵresolveDocument)(\"mousedown\", function SliderComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onStopDragging($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      value: \"value\",\n      options: \"options\",\n      seekable: \"seekable\",\n      buffer: \"buffer\"\n    },\n    outputs: {\n      valueChange: \"valueChange\"\n    },\n    decls: 3,\n    vars: 17,\n    consts: [[3, \"click\", \"mouseup\", \"touchstart\", \"touchmove\", \"touchend\", \"mousemove\", \"mousedown\"], [1, \"buffer\", 3, \"ngStyle\"], [3, \"ngStyle\"]],\n    template: function SliderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"click\", function SliderComponent_Template_div_click_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"mouseup\", function SliderComponent_Template_div_mouseup_0_listener($event) {\n          return ctx.onMouseUp($event);\n        })(\"touchstart\", function SliderComponent_Template_div_touchstart_0_listener($event) {\n          return ctx.onMouseDown($event);\n        })(\"touchmove\", function SliderComponent_Template_div_touchmove_0_listener($event) {\n          return ctx.onMouseMove($event);\n        })(\"touchend\", function SliderComponent_Template_div_touchend_0_listener($event) {\n          return ctx.onMouseUp($event);\n        })(\"mousemove\", function SliderComponent_Template_div_mousemove_0_listener($event) {\n          return ctx.onMouseMove($event);\n        })(\"mousedown\", function SliderComponent_Template_div_mousedown_0_listener($event) {\n          return ctx.onMouseDown($event);\n        });\n        i0.ɵɵelement(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵclassMapInterpolate2(\"slider \", ctx.options.vertical ? \"vertical\" : \"\", \" \", ctx.options.autoSize ? \"auto-size\" : \"\", \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", ctx.options.vertical ? i0.ɵɵpureFunction1(9, _c0, ctx.buffer + \"%\") : i0.ɵɵpureFunction1(11, _c1, ctx.buffer + \"%\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassMapInterpolate1(\"range \", ctx.seekable ? \"seekable\" : \"\", \"\");\n        i0.ɵɵproperty(\"ngStyle\", ctx.options.vertical ? i0.ɵɵpureFunction1(13, _c0, ctx.value + \"%\") : i0.ɵɵpureFunction1(15, _c1, ctx.value + \"%\"));\n      }\n    },\n    directives: [i1.NgStyle],\n    styles: [\".slider[_ngcontent-%COMP%]{width:100%;background-color:#b7b7b71a;height:5px;border-radius:5px;transition:height .15s ease-out;position:relative}.slider.vertical[_ngcontent-%COMP%]{margin:0 auto;width:5px;background:#131313;height:200px;border-radius:5px;transition:width .15s ease-out}.slider.vertical[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{height:0;max-height:200px;background:var(--accent-color);width:100%;border-radius:5px;bottom:0;position:absolute;z-index:2;transition:all ease-in-out .4s}.slider.vertical[_ngcontent-%COMP%]:hover{width:15px!important;height:200px!important}.slider[_ngcontent-%COMP%]:not(.vertical).auto-size:hover{height:15px}.slider[_ngcontent-%COMP%]:not(.vertical)   .range[_ngcontent-%COMP%]{width:0;z-index:2;position:absolute;background:var(--accent-color);height:100%;border-radius:5px}.slider[_ngcontent-%COMP%]:not(.vertical)   .range.seekable[_ngcontent-%COMP%]:after{content:\\\" \\\";background:var(--accent-color);height:15px;position:absolute;width:15px;right:-5px;top:-5px;border-radius:50%}.slider[_ngcontent-%COMP%]:not(.vertical)   .buffer[_ngcontent-%COMP%]{width:0;bottom:0;position:absolute;background:var(--background-color-3);height:100%;border-radius:5px;z-index:1}.waveform[_ngcontent-%COMP%]{width:100vw;position:relative;overflow-x:auto}.waveform[_ngcontent-%COMP%]{overflow:auto;width:100%;height:100%;position:relative;height:70px}.waveform[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%]{margin-left:50%;margin-right:50%;-o-object-fit:contain;object-fit:contain;height:50px}.waveform[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{margin-left:50%;margin-right:50%;height:50px;position:absolute;top:0;left:0;width:1px;-o-object-fit:cover;object-fit:cover;-o-object-position:left;object-position:left;filter:opacity(.5) drop-shadow(0 0 0 var(--accent-color))}\"]\n  });\n  return SliderComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}