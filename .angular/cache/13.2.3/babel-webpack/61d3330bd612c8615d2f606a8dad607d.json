{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/music.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/shared/components/modal/modal.service\";\nexport let ArtistsComponent = /*#__PURE__*/(() => {\n  class ArtistsComponent {\n    constructor(musicService, router, route, modalService) {\n      this.musicService = musicService;\n      this.router = router;\n      this.route = route;\n      this.modalService = modalService;\n      this.artists = [];\n      this.pagination = {\n        skip: 0,\n        limit: 20,\n        total: 0\n      };\n    }\n\n    ngOnInit() {\n      this.getArtists();\n    }\n\n    getArtists() {\n      console.log(\"loading albums\");\n      this.musicService.getArtists(this.pagination).subscribe(response => {\n        this.artists = this.artists.concat(response.albums);\n        this.pagination.total = response.total;\n\n        if (this.pagination.total) {\n          this.pagination.total = response.total;\n        }\n      });\n    }\n\n    onScroll() {\n      if (this.artists.length !== this.pagination.total) {\n        this.pagination.skip += this.pagination.limit;\n        this.getArtists();\n      }\n    }\n\n  }\n\n  ArtistsComponent.ɵfac = function ArtistsComponent_Factory(t) {\n    return new (t || ArtistsComponent)(i0.ɵɵdirectiveInject(i1.MusicService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ModalService));\n  };\n\n  ArtistsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ArtistsComponent,\n    selectors: [[\"app-artists\"]],\n    decls: 2,\n    vars: 0,\n    template: function ArtistsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"artists works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"\"]\n  });\n  return ArtistsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}