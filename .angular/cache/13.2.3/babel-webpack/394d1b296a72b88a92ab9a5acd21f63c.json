{"ast":null,"code":"import { takeUntil } from \"rxjs/operators\";\nimport { Subject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/player.service\";\nimport * as i2 from \"src/app/modules/shared/services/interface.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../shared/components/dropdown/dropdown.component\";\nimport * as i6 from \"../../components/slider/slider.component\";\nimport * as i7 from \"../../shared/components/loading/loading.component\";\nimport * as i8 from \"ngx-virtual-scroller\";\nimport * as i9 from \"../../components/track-list/track-list.component\";\nimport * as i10 from \"../../pipes/format-seconds.pipe\";\nconst _c0 = [\"swiper\"];\nconst _c1 = [\"bottomSheet\"];\nconst _c2 = [\"scroll\"];\n\nfunction NowPlayingComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"i\", 60);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NowPlayingComponent_a_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function NowPlayingComponent_a_15_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.lyrics = true;\n    });\n    i0.ɵɵtext(1, \"Lyrics\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NowPlayingComponent_i_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 61);\n  }\n}\n\nfunction NowPlayingComponent_i_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 62);\n  }\n}\n\nfunction NowPlayingComponent_i_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 63);\n  }\n}\n\nfunction NowPlayingComponent_i_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 64);\n  }\n}\n\nfunction NowPlayingComponent_ng_template_93_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function NowPlayingComponent_ng_template_93_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r18);\n      i0.ɵɵnextContext();\n\n      const _r8 = i0.ɵɵreference(92);\n\n      return _r8.toggle();\n    });\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelement(3, \"i\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 65);\n    i0.ɵɵlistener(\"click\", function NowPlayingComponent_ng_template_93_Template_div_click_4_listener() {\n      i0.ɵɵrestoreView(_r18);\n      i0.ɵɵnextContext();\n\n      const _r8 = i0.ɵɵreference(92);\n\n      return _r8.toggle();\n    });\n    i0.ɵɵelementStart(5, \"div\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 52);\n    i0.ɵɵtext(8, \"Songs in queue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function NowPlayingComponent_ng_template_93_Template_div_click_9_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.onClear();\n    });\n    i0.ɵɵelementStart(10, \"div\", 4);\n    i0.ɵɵelement(11, \"i\", 66);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r10.tracks.length);\n  }\n}\n\nconst _c3 = function () {\n  return {\n    picture: true,\n    actions: false\n  };\n};\n\nfunction NowPlayingComponent_app_track_list_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-track-list\", 67);\n  }\n\n  if (rf & 2) {\n    const track_r21 = ctx.$implicit;\n    i0.ɵɵproperty(\"options\", i0.ɵɵpureFunction0(2, _c3))(\"track\", track_r21);\n  }\n}\n\nconst _c4 = function () {\n  return {\n    right: true\n  };\n};\n\nconst _c5 = function (a2) {\n  return [\"modal\", \"artists\", a2];\n};\n\nconst _c6 = function (a0) {\n  return {\n    modal: a0\n  };\n};\n\nconst _c7 = function (a0) {\n  return {\n    outlets: a0\n  };\n};\n\nconst _c8 = function (a1) {\n  return [\"/\", a1];\n};\n\nconst _c9 = function (a2) {\n  return [\"modal\", \"albums\", a2];\n};\n\nconst _c10 = function () {\n  return {\n    vertical: false,\n    autoSize: false\n  };\n};\n\nexport let NowPlayingComponent = /*#__PURE__*/(() => {\n  class NowPlayingComponent {\n    constructor(playerService, interfaceService, location, router) {\n      this.playerService = playerService;\n      this.interfaceService = interfaceService;\n      this.location = location;\n      this.router = router;\n      this.tracks = [];\n      this.track = {};\n      this.progress = 0;\n      this.volume = (parseFloat(localStorage.getItem(\"volume\")) || 1) * 100;\n      this.playing = false;\n      this.config = {\n        virtual: true,\n        slidesPerView: 1,\n        spaceBetween: 0\n      };\n      this.lyrics = false;\n      this.currentTime = 0;\n      this.buffering = false;\n      this.buffer = 0;\n      this.duration = 0;\n      this.loading = false;\n      this.options = {\n        maxHeight: \"80vh\"\n      };\n      this.destroy = new Subject();\n    }\n\n    ngOnInit() {\n      this.playerService.$playing.pipe(takeUntil(this.destroy)).subscribe(playing => {\n        this.playing = playing;\n      });\n      this.playerService.$buffering.pipe(takeUntil(this.destroy)).subscribe(buffering => {\n        this.buffering = buffering;\n      });\n      this.playerService.$buffer.pipe(takeUntil(this.destroy)).subscribe(buffer => {\n        this.buffer = buffer;\n      });\n      this.playerService.$volume.pipe(takeUntil(this.destroy)).subscribe(volume => {\n        this.volume = volume * 100;\n      });\n      this.playerService.$progress.pipe(takeUntil(this.destroy)).subscribe(num => {\n        this.progress = num;\n        this.currentTime = this.playerService.audio.currentTime;\n      });\n      this.playerService.$queue.pipe(takeUntil(this.destroy)).subscribe(tracks => {\n        this.tracks = tracks;\n\n        if (!this.config.initialSlide) {\n          this.config.initialSlide = this.playerService.index;\n        }\n\n        this.duration = 0;\n        this.tracks.map(track => {\n          if (track.duration) {\n            this.duration += track.duration;\n          }\n        });\n      });\n      this.playerService.$track.pipe(takeUntil(this.destroy)).subscribe(track => {\n        this.track = track;\n\n        if (this.track.progress) {\n          this.progress = this.track.progress;\n        }\n\n        this.lyrics = false;\n\n        if (this.swiper) {\n          this.swiper.setIndex(this.playerService.index);\n        }\n      });\n    }\n\n    onSlideChange(e) {\n      if (e.activeIndex !== this.playerService.index) {\n        this.playerService.onPlay(this.tracks[e.activeIndex]);\n      }\n    }\n\n    onProgress(e) {\n      this.playerService.onSeek(e);\n    }\n\n    onClear() {\n      this.playerService.clear();\n    }\n\n    onClose() {\n      this.location.back(); // this.modal.close();\n    }\n\n    onPlaylist() {\n      this.playerService.onAddToPlaylist(this.track);\n    }\n\n    onVolume(e) {\n      const value = 100 - e * 100;\n      const volume = 1 - value / 100;\n\n      if (volume >= 0 && volume <= 1) {\n        this.playerService.onVolume(volume);\n      }\n\n      this.volume = 100 - value;\n    }\n\n    onLike(e) {\n      this.playerService.onLike(this.track._id).subscribe(() => {\n        this.track.liked = !this.track.liked;\n        this.interfaceService.notify(`${this.track.name} ${this.track.liked ? \"added to favourites\" : \"removed from favourites\"}`, {\n          timeout: 3000\n        });\n      });\n    }\n\n    onSwipe(e) {\n      const direction = Math.abs(e.deltaX) > 40 ? e.deltaX > 0 ? 1 : 2 : 0;\n\n      if (direction === 2) {\n        this.playerService.onNext();\n      }\n\n      if (direction === 1) {\n        this.playerService.onPrev();\n      }\n    }\n\n    onQueue() {\n      this.bottomSheet.toggle();\n      this.virtualScroll.scrollToIndex(this.playerService.index);\n    }\n\n    ngOnDestroy() {\n      this.destroy.next();\n    }\n\n  }\n\n  NowPlayingComponent.ɵfac = function NowPlayingComponent_Factory(t) {\n    return new (t || NowPlayingComponent)(i0.ɵɵdirectiveInject(i1.PlayerService), i0.ɵɵdirectiveInject(i2.InterfaceService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.Router));\n  };\n\n  NowPlayingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NowPlayingComponent,\n    selectors: [[\"app-now-playing\"]],\n    viewQuery: function NowPlayingComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.swiper = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.bottomSheet = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.virtualScroll = _t.first);\n      }\n    },\n    decls: 101,\n    vars: 71,\n    consts: [[1, \"container\", \"mx-auto\"], [1, \"playing\"], [1, \"playing-header\"], [1, \"playing-header-action\", 3, \"click\"], [1, \"playing-header-action-item\"], [1, \"feather-chevron-down\"], [1, \"playing-header-playing\"], [1, \"title\"], [1, \"playing-header-action\"], [3, \"config\", \"header\"], [\"dropdown\", \"\"], [\"headerTemplate\", \"\"], [1, \"dropdown-action-list\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [3, \"routerLink\"], [1, \"divider\", \"no-margin\"], [1, \"playing-carousel\"], [1, \"image-wrap\"], [3, \"src\", \"swipe\"], [1, \"playing-track\"], [1, \"playing-track-details\"], [1, \"name\"], [1, \"overflow-text\"], [1, \"artists\"], [1, \"playing-track-actions\"], [1, \"feather-heart\"], [1, \"playing-progress\"], [1, \"playing-progress-slider\"], [3, \"seekable\", \"options\", \"buffer\", \"value\", \"valueChange\"], [3, \"loading\"], [1, \"playing-progress-time\"], [1, \"current\"], [1, \"total\"], [1, \"playing-controls\"], [1, \"material-icons-round\"], [1, \"playing-controls-control\", \"grow\"], [1, \"playback\", 3, \"click\"], [1, \"playing-volume\"], [1, \"playing-volume-controls\"], [1, \"playing-volume-controls-level\"], [\"class\", \"feather-volume-x\", 4, \"ngIf\"], [\"class\", \"feather-volume\", 4, \"ngIf\"], [\"class\", \"feather-volume-1\", 4, \"ngIf\"], [\"class\", \"feather-volume-2\", 4, \"ngIf\"], [1, \"playing-volume-controls-slider\"], [3, \"options\", \"value\", \"valueChange\"], [1, \"playing-queue\"], [1, \"playing-queue-header\", 3, \"click\"], [1, \"playing-queue-header-action\"], [1, \"playing-header-action-item\", 2, \"padding-right\", \"15px\"], [1, \"playing-queue-header-playing\"], [1, \"subtitle\"], [3, \"options\", \"header\"], [\"bottomSheet\", \"\"], [\"header\", \"\"], [3, \"items\", \"enableUnequalChildrenSizes\", \"checkResizeInterval\"], [\"scroll\", \"\"], [\"container\", \"\"], [3, \"options\", \"track\", 4, \"ngFor\", \"ngForOf\"], [1, \"feather\", \"feather-more-vertical\"], [1, \"feather-volume-x\"], [1, \"feather-volume\"], [1, \"feather-volume-1\"], [1, \"feather-volume-2\"], [1, \"playing-header-playing\", 3, \"click\"], [1, \"feather\", \"feather-trash\"], [3, \"options\", \"track\"]],\n    template: function NowPlayingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_div_click_3_listener() {\n          return ctx.onClose();\n        });\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelement(5, \"i\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵtext(8, \"Now Playing\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 8);\n        i0.ɵɵelementStart(10, \"app-dropdown\", 9, 10);\n        i0.ɵɵtemplate(12, NowPlayingComponent_ng_template_12_Template, 2, 0, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(14, \"div\", 12);\n        i0.ɵɵtemplate(15, NowPlayingComponent_a_15_Template, 2, 0, \"a\", 13);\n        i0.ɵɵelementStart(16, \"a\", 14);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_a_click_16_listener() {\n          return ctx.onPlaylist();\n        });\n        i0.ɵɵtext(17, \"Add to playlist\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"a\", 15);\n        i0.ɵɵtext(19, \"More from artist\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"a\", 15);\n        i0.ɵɵtext(21, \"Go to album\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"div\", 16);\n        i0.ɵɵelementStart(23, \"a\", 14);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_a_click_23_listener() {\n          return ctx.onClear();\n        });\n        i0.ɵɵtext(24, \"Clear queue\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 17);\n        i0.ɵɵelementStart(26, \"div\", 18);\n        i0.ɵɵelementStart(27, \"img\", 19);\n        i0.ɵɵlistener(\"swipe\", function NowPlayingComponent_Template_img_swipe_27_listener($event) {\n          return ctx.onSwipe($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 20);\n        i0.ɵɵelementStart(29, \"div\", 21);\n        i0.ɵɵelementStart(30, \"div\", 22);\n        i0.ɵɵelementStart(31, \"div\", 23);\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 24);\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\", 25);\n        i0.ɵɵelementStart(36, \"div\", 14);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_div_click_36_listener($event) {\n          return ctx.onLike($event);\n        });\n        i0.ɵɵelement(37, \"i\", 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 27);\n        i0.ɵɵelementStart(39, \"div\", 28);\n        i0.ɵɵelementStart(40, \"app-slider\", 29);\n        i0.ɵɵlistener(\"valueChange\", function NowPlayingComponent_Template_app_slider_valueChange_40_listener($event) {\n          return ctx.onProgress($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"app-loading\", 30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 31);\n        i0.ɵɵelementStart(43, \"div\", 32);\n        i0.ɵɵtext(44);\n        i0.ɵɵpipe(45, \"formatSeconds\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"div\", 33);\n        i0.ɵɵtext(47);\n        i0.ɵɵpipe(48, \"formatSeconds\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"div\", 34);\n        i0.ɵɵelementStart(50, \"div\", 14);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_div_click_50_listener() {\n          return ctx.playerService.onShuffle();\n        });\n        i0.ɵɵelementStart(51, \"span\", 35);\n        i0.ɵɵtext(52, \" shuffle \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"div\", 36);\n        i0.ɵɵelementStart(54, \"div\", 14);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_div_click_54_listener() {\n          return ctx.playerService.onPrev();\n        });\n        i0.ɵɵelementStart(55, \"span\", 35);\n        i0.ɵɵtext(56, \" skip_previous \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"div\", 37);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_div_click_57_listener() {\n          return ctx.playerService.onPlayback();\n        });\n        i0.ɵɵelementStart(58, \"span\", 35);\n        i0.ɵɵtext(59);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"div\", 14);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_div_click_60_listener() {\n          return ctx.playerService.onNext();\n        });\n        i0.ɵɵelementStart(61, \"span\", 35);\n        i0.ɵɵtext(62, \" skip_next \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"div\", 14);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_div_click_63_listener() {\n          return ctx.playerService.onRepeat();\n        });\n        i0.ɵɵelementStart(64, \"span\", 35);\n        i0.ɵɵtext(65, \" repeat \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"div\", 38);\n        i0.ɵɵelementStart(67, \"div\", 39);\n        i0.ɵɵelementStart(68, \"div\", 40);\n        i0.ɵɵtemplate(69, NowPlayingComponent_i_69_Template, 1, 0, \"i\", 41);\n        i0.ɵɵtemplate(70, NowPlayingComponent_i_70_Template, 1, 0, \"i\", 42);\n        i0.ɵɵtemplate(71, NowPlayingComponent_i_71_Template, 1, 0, \"i\", 43);\n        i0.ɵɵtemplate(72, NowPlayingComponent_i_72_Template, 1, 0, \"i\", 44);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(73, \"div\", 45);\n        i0.ɵɵelementStart(74, \"app-slider\", 46);\n        i0.ɵɵlistener(\"valueChange\", function NowPlayingComponent_Template_app_slider_valueChange_74_listener($event) {\n          return ctx.onVolume($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"div\", 47);\n        i0.ɵɵelementStart(76, \"div\", 48);\n        i0.ɵɵlistener(\"click\", function NowPlayingComponent_Template_div_click_76_listener() {\n          return ctx.onQueue();\n        });\n        i0.ɵɵelementStart(77, \"div\", 49);\n        i0.ɵɵelementStart(78, \"div\", 50);\n        i0.ɵɵelementStart(79, \"i\", 35);\n        i0.ɵɵtext(80, \" keyboard_arrow_up \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(81, \"div\", 51);\n        i0.ɵɵelementStart(82, \"div\", 7);\n        i0.ɵɵtext(83, \"Queue\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(84, \"div\", 52);\n        i0.ɵɵtext(85);\n        i0.ɵɵpipe(86, \"formatSeconds\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(87, \"div\", 49);\n        i0.ɵɵelementStart(88, \"div\", 4);\n        i0.ɵɵelementStart(89, \"i\", 35);\n        i0.ɵɵtext(90, \" queue_music \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(91, \"app-bottom-sheet\", 53, 54);\n        i0.ɵɵtemplate(93, NowPlayingComponent_ng_template_93_Template, 12, 1, \"ng-template\", null, 55, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(95, \"virtual-scroller\", 56, 57);\n        i0.ɵɵelement(97, \"app-loading\", 30);\n        i0.ɵɵelementStart(98, \"div\", null, 58);\n        i0.ɵɵtemplate(100, NowPlayingComponent_app_track_list_100_Template, 1, 3, \"app-track-list\", 59);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(13);\n\n        const _r9 = i0.ɵɵreference(94);\n\n        const _r11 = i0.ɵɵreference(96);\n\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"config\", i0.ɵɵpureFunction0(52, _c4))(\"header\", _r1);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.track.lyrics);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(59, _c8, i0.ɵɵpureFunction1(57, _c7, i0.ɵɵpureFunction1(55, _c6, i0.ɵɵpureFunction1(53, _c5, ctx.track == null ? null : ctx.track.album == null ? null : ctx.track.album.artist == null ? null : ctx.track.album.artist._id)))));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(67, _c8, i0.ɵɵpureFunction1(65, _c7, i0.ɵɵpureFunction1(63, _c6, i0.ɵɵpureFunction1(61, _c9, ctx.track == null ? null : ctx.track.album == null ? null : ctx.track.album._id)))));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"src\", (ctx.track == null ? null : ctx.track.album == null ? null : ctx.track.album.picture) || \"/assets/app-icon-text.png\", i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.track.name, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.track.artist, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassMap(ctx.track.liked ? \"active\" : \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"seekable\", !(ctx.buffering && ctx.playing))(\"options\", i0.ɵɵpureFunction0(69, _c10))(\"buffer\", ctx.buffer)(\"value\", ctx.progress);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"loading\", ctx.buffering && ctx.playing);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(45, 46, ctx.currentTime), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(48, 48, ctx.track.duration || 0), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵclassMapInterpolate1(\"playing-controls-control shuffle \", ctx.playerService.shuffle ? \"active\" : \"\", \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵclassMapInterpolate1(\" skip \", ctx.playerService.isFirst ? \"disabled\" : \"\", \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.playing ? \"pause\" : \"play_arrow\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassMapInterpolate1(\"skip \", ctx.playerService.isLast ? \"disabled\" : \"\", \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵclassMapInterpolate1(\"playing-controls-control repeat \", ctx.playerService.repeat ? \"active\" : \"\", \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.volume === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.volume <= 20 && ctx.volume > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.volume < 50 && ctx.volume > 20);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.volume >= 50);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"options\", i0.ɵɵpureFunction0(70, _c10))(\"value\", ctx.volume);\n        i0.ɵɵadvance(11);\n        i0.ɵɵtextInterpolate2(\"\", ctx.tracks.length, \" Songs in queue (\", i0.ɵɵpipeBind1(86, 50, ctx.duration), \")\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"options\", ctx.options)(\"header\", _r9);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"items\", ctx.tracks)(\"enableUnequalChildrenSizes\", true)(\"checkResizeInterval\", 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"loading\", ctx.loading);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", _r11.viewPortItems);\n      }\n    },\n    directives: [i5.DropdownComponent, i3.NgIf, i4.RouterLinkWithHref, i6.SliderComponent, i7.LoadingComponent, i8.VirtualScrollerComponent, i3.NgForOf, i9.TrackListComponent],\n    pipes: [i10.FormatSecondsPipe],\n    styles: [\"[_nghost-%COMP%]{overflow:auto;display:block;height:100vh;background:var(--background-color)}.playing[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - (env(safe-area-inset-bottom) + env(safe-area-inset-top)));overflow:auto;background:var(--background-color);width:100%;color:var(--foreground-color)}.playing-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px}.playing-header.queue[_ngcontent-%COMP%]{border:1px solid var(--border-color);padding:10px;margin:15px;border-radius:5px}.playing-header.queue[_ngcontent-%COMP%]   .playing-header-action[_ngcontent-%COMP%]{padding:5px}.playing-header.queue[_ngcontent-%COMP%]   .playing-header-action-item[_ngcontent-%COMP%]{font-size:1rem!important}.playing-header-action-item[_ngcontent-%COMP%]{text-align:center;font-size:1.4rem}.playing-header-playing[_ngcontent-%COMP%]{text-align:center;flex-grow:1}.playing-header-playing[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:800;font-family:Open Sans,sans-serif;text-transform:uppercase}.playing-header-playing[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{opacity:.5;font-size:13px}.playing-section[_ngcontent-%COMP%]{background:blue;flex-grow:1;display:flex;flex-direction:row}.playing-carousel[_ngcontent-%COMP%]{padding:0 15px;flex-grow:1;flex-basis:0;display:flex}.playing-carousel[_ngcontent-%COMP%]   .image-wrap[_ngcontent-%COMP%]{flex-grow:1;display:flex;padding:15px;overflow:hidden;position:relative;border-radius:5px;box-shadow:0 2px 4px #0000000f;-o-object-fit:cover;object-fit:cover}.playing-carousel[_ngcontent-%COMP%]   .image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;left:0;top:0;bottom:0;right:0;border-radius:5px;margin:0 auto;position:absolute;-o-object-fit:cover;object-fit:cover}.playing-track[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:15px 15px 0}.playing-track-details[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;min-width:0;padding-right:15px}.playing-track-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;overflow:auto;white-space:nowrap;text-overflow:ellipsis}.playing-track-details[_ngcontent-%COMP%]   .artists[_ngcontent-%COMP%]{font-size:13px;opacity:.5;font-weight:500;overflow:auto;white-space:nowrap}.playing-track-actions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.4rem}.playing-track-actions[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]{color:var(--accent-color)}.playing-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:15px;position:relative}.playing-progress-slider[_ngcontent-%COMP%]{position:relative}.playing-progress-time[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding-top:15px;opacity:.5;font-size:.8rem}.playing-progress-time[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{text-align:left;flex-grow:1;flex-basis:0}.playing-progress-time[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:right;flex-grow:1;flex-basis:0}.playing-controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.playing-controls-control[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:center}.playing-controls-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem}.playing-controls-control.grow[_ngcontent-%COMP%]{flex-grow:1}.playing-controls-control.grow[_ngcontent-%COMP%]   .skip[_ngcontent-%COMP%]{border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center}.playing-controls-control.grow[_ngcontent-%COMP%]   .skip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem}.playing-controls-control.grow[_ngcontent-%COMP%]   .skip.disabled[_ngcontent-%COMP%]{cursor:disabled;opacity:.2}.playing-controls-control.grow[_ngcontent-%COMP%]   .playback[_ngcontent-%COMP%]{background-color:var(--background-color-3);height:60px;width:60px;border-radius:50%;display:flex;align-items:center;justify-content:center}.playing-controls-control.grow[_ngcontent-%COMP%]   .playback[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2.5rem}.playing-controls-control.repeat[_ngcontent-%COMP%], .playing-controls-control.shuffle[_ngcontent-%COMP%]{opacity:.6;margin-left:15px;margin-right:15px}.playing-controls-control.repeat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .playing-controls-control.shuffle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.playing-controls-control.active[_ngcontent-%COMP%]{color:var(--accent-color)}.playing-volume[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-width:0px}.playing-volume-controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:15px;flex-grow:1;position:relative}.playing-volume-controls-level[_ngcontent-%COMP%]{opacity:.6;padding-right:15px;font-size:1.2rem}.playing-volume-controls-slider[_ngcontent-%COMP%]{position:relative;flex-grow:1}.playing-queue[_ngcontent-%COMP%]{display:flex;align-items:flex-end;width:100%;padding-top:15px}.playing-queue-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;flex-grow:1;background:var(--background-color-2);margin:15px;border-radius:20px}.playing-queue-header[_ngcontent-%COMP%]   .playing-header-action[_ngcontent-%COMP%]{padding:5px}.playing-queue-header[_ngcontent-%COMP%]   .playing-header-action-item[_ngcontent-%COMP%]{font-size:1rem!important}.playing-queue-header-action-item[_ngcontent-%COMP%]{text-align:center;font-size:1.4rem}.playing-queue-header-playing[_ngcontent-%COMP%]{text-align:center;flex-grow:1}.playing-queue-header-playing[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.playing-queue-header-playing[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{opacity:.5;font-size:13px}.playing-queue-handle[_ngcontent-%COMP%]{background-color:var(--foreground-color);opacity:.2;height:10px;width:10%;margin:0 auto;border-radius:20px}virtual-scroller[_ngcontent-%COMP%]{width:100%;height:80vh;padding-bottom:env(safe-area-inset-bottom)}@-webkit-keyframes move{0%{transform-origin:top left;transform:scale(1)}to{transform:scale(1.2)}}@keyframes move{0%{transform-origin:top left;transform:scale(1)}to{transform:scale(1.2)}}@media all and (max-width: 1000px){.playing-volume[_ngcontent-%COMP%]{display:none}}\"]\n  });\n  return NowPlayingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}