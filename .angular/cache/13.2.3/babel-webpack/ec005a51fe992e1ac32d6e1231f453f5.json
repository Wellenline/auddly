{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/http.service\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"ng-lazyload-image\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../../pipes/size.pipe\";\nimport * as i7 from \"../../pipes/format-seconds.pipe\";\n\nfunction SettingsComponent_ng_template_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_ng_template_1_ng_template_2_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r7 = restoredCtx.item;\n      return item_r7.onToggle();\n    });\n    i0.ɵɵelementStart(1, \"i\", 22);\n    i0.ɵɵtext(2, \" more_vert \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return {\n    right: true\n  };\n};\n\nfunction SettingsComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-dropdown\", 16, 17);\n    i0.ɵɵtemplate(2, SettingsComponent_ng_template_1_ng_template_2_Template, 3, 0, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(4, \"div\", 19);\n    i0.ɵɵelementStart(5, \"a\", 20);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_ng_template_1_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.onDisconnect();\n    });\n    i0.ɵɵtext(6, \"Disconnect\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(3);\n\n    i0.ɵɵproperty(\"config\", i0.ɵɵpureFunction0(2, _c0))(\"header\", _r5);\n  }\n}\n\nfunction SettingsComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵtext(2, \"API Key\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.api_key);\n  }\n}\n\nfunction SettingsComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵtext(2, \"Host\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.httpService.API_ENDPOINT);\n  }\n}\n\nexport let SettingsComponent = /*#__PURE__*/(() => {\n  class SettingsComponent {\n    constructor(httpService, authService) {\n      this.httpService = httpService;\n      this.authService = authService;\n      this.settings = {};\n      this.server = {};\n      this.loading = true;\n      this.colors = [\"#3ec7c2\", \"#0fdbff\", \"#4caf50\", \"#3c91ff\", \"#7fcd91\", \"#fe346e\", \"#381460\", \"#ffa41b\", \"#9399ff\", \"#21bf73\", \"#C1935B\", \"#F0050E\"];\n      this.api_key = localStorage.getItem(\"key\");\n    }\n\n    ngOnInit() {\n      this.fetchServerInfo();\n    }\n\n    ngAfterViewInit() {}\n\n    setTheme(color) {\n      document.documentElement.style.setProperty(\"--accent-color\", color);\n      localStorage.setItem(\"accent-color\", color);\n    }\n\n    fetchServerInfo() {\n      this.httpService.get(`/info`).subscribe(response => {\n        this.server = response;\n      }, err => {\n        console.log(err);\n      }).add(() => {\n        this.loading = false;\n      });\n    }\n\n    onDisconnect() {\n      this.authService.disconnect();\n      location.reload();\n    }\n\n  }\n\n  SettingsComponent.ɵfac = function SettingsComponent_Factory(t) {\n    return new (t || SettingsComponent)(i0.ɵɵdirectiveInject(i1.HttpService), i0.ɵɵdirectiveInject(i2.AuthService));\n  };\n\n  SettingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SettingsComponent,\n    selectors: [[\"app-settings\"]],\n    decls: 80,\n    vars: 25,\n    consts: [[\"title\", \"Settings\", 3, \"actionTemplate\"], [\"actionTemplate\", \"\"], [1, \"app-logo\"], [\"lazyLoad\", \"/assets/app-icon-text.png\"], [1, \"bubbles\"], [1, \"bubble\"], [1, \"title-action\"], [1, \"float-right\"], [1, \"theme\"], [1, \"list\"], [1, \"list-item\"], [1, \"text-lead\"], [1, \"text-meta\"], [\"class\", \"list-item\", 4, \"ngIf\"], [\"routerLink\", \"/settings/upload\", 1, \"list-item\"], [3, \"loading\"], [3, \"config\", \"header\"], [\"dropdown\", \"\"], [\"headerTemplate\", \"\"], [1, \"dropdown-action-list\"], [3, \"click\"], [1, \"dropdown-action-item\", 3, \"click\"], [1, \"material-icons-outlined\"]],\n    template: function SettingsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-header\", 0);\n        i0.ɵɵtemplate(1, SettingsComponent_ng_template_1_Template, 7, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelement(4, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"h1\");\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p\");\n        i0.ɵɵtext(10, \"Songs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 5);\n        i0.ɵɵelementStart(12, \"h1\");\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"p\");\n        i0.ɵɵtext(15, \"Albums\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 5);\n        i0.ɵɵelementStart(17, \"h1\");\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"p\");\n        i0.ɵɵtext(20, \"Artists\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 6);\n        i0.ɵɵelementStart(22, \"h3\");\n        i0.ɵɵtext(23, \"Theme\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 8);\n        i0.ɵɵelement(26, \"app-theme-toggle\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"h3\");\n        i0.ɵɵtext(28, \"Server\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 9);\n        i0.ɵɵelementStart(30, \"div\", 10);\n        i0.ɵɵelementStart(31, \"div\", 11);\n        i0.ɵɵtext(32, \"Last Sync\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 12);\n        i0.ɵɵtext(34);\n        i0.ɵɵpipe(35, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 10);\n        i0.ɵɵelementStart(37, \"div\", 11);\n        i0.ɵɵtext(38, \"Duration\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 12);\n        i0.ɵɵtext(40);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 10);\n        i0.ɵɵelementStart(42, \"div\", 11);\n        i0.ɵɵtext(43, \"Size\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"div\", 12);\n        i0.ɵɵtext(45);\n        i0.ɵɵpipe(46, \"size\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"div\", 10);\n        i0.ɵɵelementStart(48, \"div\", 11);\n        i0.ɵɵtext(49, \"Mount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 12);\n        i0.ɵɵtext(51);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(52, SettingsComponent_div_52_Template, 5, 1, \"div\", 13);\n        i0.ɵɵtemplate(53, SettingsComponent_div_53_Template, 5, 1, \"div\", 13);\n        i0.ɵɵelementStart(54, \"div\", 10);\n        i0.ɵɵelementStart(55, \"div\", 11);\n        i0.ɵɵtext(56, \"Uptime\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"div\", 12);\n        i0.ɵɵtext(58);\n        i0.ɵɵpipe(59, \"formatSeconds\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"div\", 10);\n        i0.ɵɵelementStart(61, \"div\", 11);\n        i0.ɵɵtext(62, \"Free Mem\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"div\", 12);\n        i0.ɵɵtext(64);\n        i0.ɵɵpipe(65, \"size\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"div\", 10);\n        i0.ɵɵelementStart(67, \"div\", 11);\n        i0.ɵɵtext(68, \"Server\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"div\", 12);\n        i0.ɵɵtext(70);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"div\", 10);\n        i0.ɵɵelementStart(72, \"div\", 11);\n        i0.ɵɵtext(73, \"Version\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"div\", 12);\n        i0.ɵɵtext(75);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"div\", 14);\n        i0.ɵɵelementStart(77, \"div\", 11);\n        i0.ɵɵtext(78, \"Upload\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(79, \"app-loading\", 15);\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(2);\n\n        i0.ɵɵproperty(\"actionTemplate\", _r0);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.server.tracks || 0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.server.albums || 0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.server.artists || 0);\n        i0.ɵɵadvance(16);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(35, 16, ctx.server.last_scan, \"medium\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\", ctx.server.seconds, \"s\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(46, 19, ctx.server.size));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.server.mount);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.api_key);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.api_key);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(59, 21, ctx.server.uptime));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(65, 23, ctx.server.free_mem));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate2(\"CPU: \", ctx.server.arch, \", Runtime: \", ctx.server.node_version, \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.server.version);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"loading\", ctx.loading);\n      }\n    },\n    directives: [i3.LazyLoadImageDirective, i4.NgIf, i5.RouterLink],\n    pipes: [i4.DatePipe, i6.SizePipe, i7.FormatSecondsPipe],\n    styles: [\".qr-code[_ngcontent-%COMP%]{height:400px}.app-logo[_ngcontent-%COMP%]{padding-bottom:15px;padding-top:15px;text-align:center}.app-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;-o-object-fit:cover;object-fit:cover;border-radius:50%}.bubbles[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;width:100%}.bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{height:100%;flex-grow:1;flex-basis:0;background-color:var(--background-color-2);color:var(--foreground-color);border-radius:5px;padding:20px;text-align:center}.bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:last-of-type{margin-right:15px}.bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:first-of-type{margin-left:15px}.bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-weight:800;text-transform:uppercase;font-size:1.2rem;margin:0}.bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Open Sans,sans-serif;font-size:11px;font-weight:500;opacity:.7}.bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] + .bubble[_ngcontent-%COMP%]{margin-left:15px}h3[_ngcontent-%COMP%]{padding-left:10px;color:var(--foreground-color);font-family:Open Sans,sans-serif;font-weight:800;text-transform:uppercase;font-size:1rem}.title-action[_ngcontent-%COMP%]{margin-top:20px;display:flex;align-items:center}.title-action[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex-grow:1}.title-action[_ngcontent-%COMP%]   .float-right[_ngcontent-%COMP%]{padding-right:10px}.theme[_ngcontent-%COMP%]{padding-left:15px}.theme[_ngcontent-%COMP%]   .color-block[_ngcontent-%COMP%]{box-shadow:#1111120a 0 2px 4px,#1314140f 0 1px 1px;display:inline-block;padding:10px;border-radius:5px;color:#fff}.theme[_ngcontent-%COMP%]   .color-block[_ngcontent-%COMP%]:first-of-type{margin-left:15px}.theme[_ngcontent-%COMP%]   .color-block[_ngcontent-%COMP%]:last-of-type{margin-right:15px}.theme[_ngcontent-%COMP%]   .color-block[_ngcontent-%COMP%] + .color-block[_ngcontent-%COMP%]{margin-left:10px}.list-item[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid var(--border-color)}.list-item[_ngcontent-%COMP%]   .text-lead[_ngcontent-%COMP%]{color:var(--foreground-color);font-size:1rem;opacity:.6}.list-item[_ngcontent-%COMP%]   .text-meta[_ngcontent-%COMP%]{color:var(--foreground-color);margin-top:5px;font-size:14px}\"]\n  });\n  return SettingsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}