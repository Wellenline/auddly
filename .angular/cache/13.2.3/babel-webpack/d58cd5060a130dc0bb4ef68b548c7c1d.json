{"ast":null,"code":"import { interval } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/service-worker\";\nexport let UpdateService = /*#__PURE__*/(() => {\n  class UpdateService {\n    constructor(updates) {\n      this.updates = updates;\n      this.checkForUpdate();\n    }\n\n    checkForUpdate() {\n      this.updateSubscription = this.updates.available.subscribe(event => this.promptUser());\n\n      if (this.updates.isEnabled) {\n        // Required to enable updates on Windows and ios.\n        this.updates.activateUpdate();\n        interval(60 * 60 * 100).subscribe(() => {\n          this.updates.checkForUpdate().then(() => {// console.log(\"checking for updates\");\n          });\n        });\n      }\n    }\n\n    promptUser() {\n      this.updates.activateUpdate().then(() => {\n        window.location.reload();\n      });\n    }\n\n  }\n\n  UpdateService.ɵfac = function UpdateService_Factory(t) {\n    return new (t || UpdateService)(i0.ɵɵinject(i1.SwUpdate));\n  };\n\n  UpdateService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UpdateService,\n    factory: UpdateService.ɵfac,\n    providedIn: \"root\"\n  });\n  return UpdateService;\n})();","map":null,"metadata":{},"sourceType":"module"}